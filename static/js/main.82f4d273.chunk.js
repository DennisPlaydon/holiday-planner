(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,a,t){e.exports=t(27)},16:function(e,a,t){},20:function(e,a,t){},27:function(e,a,t){"use strict";t.r(a);var n=t(0),i=t.n(n),o=t(3),l=t.n(o),r=(t(16),t(1)),s=t.n(r),c=t(4),d=t(5),m=t(6),y=t(8),h=t(7),u=t(9),p=(t(20),t(25),function(){return i.a.createElement("div",null,i.a.createElement("h1",{className:"title-container__title"},"Holiday Finder"),i.a.createElement("h3",{className:"title-container__subtitle"},"Find out when your next holiday is"))}),v=function(e){return i.a.createElement("form",{className:"text-left",onSubmit:e.getHolidays},i.a.createElement("input",{type:"text",name:"country",placeholder:"Country code..."}),i.a.createElement("button",null,"Find Holiday"))},N=function(e){return i.a.createElement("div",{className:"holiday__info text-left"},e.holidayName&&i.a.createElement("p",{className:"holiday__key"},"Name:",i.a.createElement("span",{className:"holiday__value"}," ",e.holidayName," ")),e.holidayDescription&&i.a.createElement("p",{className:"holiday__key"},"Description:",i.a.createElement("span",{className:"holiday__value"}," ",e.holidayDescription)),e.date&&i.a.createElement("p",{className:"holiday__key"},"Date:",i.a.createElement("span",{className:"holiday__value"}," ",e.date)),e.daysUntil&&i.a.createElement(i.a.Fragment,null,i.a.createElement("p",{className:"holiday__key"},"Countdown:",i.a.createElement("span",{className:"holiday__value"}," ",Math.ceil(e.daysUntil)," days"))),e.error&&i.a.createElement("p",{className:"holiday__key"},e.error))},f="f9db5edd10c7dc9b07ad23bc19ae8c7d71419571",E=function(e){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=Object(y.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(i)))).state={holidays:void 0,holidayName:void 0,holidayDescription:void 0,date:void 0,daysUntil:void 0,error:void 0},t.getHolidays=function(){var e=Object(c.a)(s.a.mark(function e(a){var n,i,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),console.log("Getting weather"),(n=a.target.elements.country.value)||(n="NZ"),e.next=6,fetch("https://calendarific.com/api/v2/holidays?country=".concat(n,"&year=2019&api_key=").concat(f));case 6:return i=e.sent,e.next=9,i.json();case 9:o=e.sent,console.log(o.response.holidays),0!==o.response.length?(t.setState({holidays:o.response.holidays}),t.getNextHoliday(new Date)):t.setState({holidayName:void 0,holidayDescription:void 0,daysUntil:void 0,error:"Please enter a valid country code"});case 12:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}(),t}return Object(u.a)(a,e),Object(m.a)(a,[{key:"getNextHoliday",value:function(e){var a,t=this.state.holidays,n=t[0];for(a=1;a<t.length;a++){var i=new Date(t[a].date.iso);if(e<i&&e>new Date(n.date.iso))n=t[a];else if(e<i){Math.abs(e-i)<Math.abs(e-new Date(n.date.iso))&&(n=t[a])}}this.setState({holidayName:n.name,holidayDescription:n.description,daysUntil:(new Date(n.date.iso)-e)/864e5,date:n.date.iso,error:""})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"wrapper"},i.a.createElement("div",{className:"main"},i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-5 col-lg-6 title-container"},i.a.createElement(p,null)),i.a.createElement("div",{className:"col-xs-7 col-lg-6 form-container"},i.a.createElement(v,{getHolidays:this.getHolidays}),i.a.createElement(N,{holidayName:this.state.holidayName,holidayDescription:this.state.holidayDescription,daysUntil:this.state.daysUntil,date:this.state.date,error:this.state.error,getNextHoliday:this.getNextHoliday})))))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[10,2,1]]]);
//# sourceMappingURL=main.82f4d273.chunk.js.map